<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Упражнение: ОСУП и ДСУП</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            --beige-bg: #f5f2eb;
            --gold-accent: #b8965a;
            --deep-gray: #333333;
            --border-color: #d1c7b7;
        }

        body {
            background-color: var(--beige-bg);
            font-family: 'Montserrat', sans-serif;
            color: var(--deep-gray);
            line-height: 1.6;
        }

        .header-font { font-family: 'Playfair Display', serif; font-style: normal; }

        .gold-border { border: 1px solid var(--gold-accent); }
        
        .drag-item {
            cursor: grab;
            background: #ffffff;
            border: 1px solid var(--border-color);
            transition: all 0.2s ease;
        }

        .drag-item:hover {
            border-color: var(--gold-accent);
            box-shadow: 0 2px 8px rgba(184, 150, 90, 0.2);
        }

        .drop-zone {
            min-height: 280px;
            background-color: rgba(209, 199, 183, 0.2);
            border: 1px solid var(--gold-accent);
        }

        .correct { border: 2px solid #4a7c59 !important; background-color: #f0f4f0 !important; }
        .incorrect { border: 2px solid #a64d4d !important; background-color: #f4f0f0 !important; }

        .btn-check {
            background-color: var(--deep-gray);
            color: var(--beige-bg);
            letter-spacing: 2px;
            text-transform: uppercase;
            font-size: 0.8rem;
            font-weight: 600;
            transition: 0.3s;
        }

        .btn-check:hover {
            background-color: var(--gold-accent);
        }

        /* Убираем курсив везде */
        * { font-style: normal !important; }
    </style>
</head>
<body class="p-8">

    <div class="max-w-6xl mx-auto">
        <div class="text-center mb-12">
            <h1 class="header-font text-4xl text-gray-800 mb-2">Разделите приведенные ниже элементы на две колонки:</h1>
            <div class="h-0.5 w-20 bg-gold-accent mx-auto"></div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            
            <div>
                <h3 class="font-semibold mb-4 text-sm uppercase tracking-wider text-gold-accent">Список элементов:</h3>
                <div id="pool" class="space-y-3">
                    <div draggable="true" id="e1" data-ans="osup" class="drag-item p-4 text-sm">Стальная труба холодного водоснабжения, входящая в здание с улицы.</div>
                    <div draggable="true" id="e2" data-ans="dsup" class="drag-item p-4 text-sm">Заземляющий контакт (PE) розетки для стиральной машины в ванной.</div>
                    <div draggable="true" id="e3" data-ans="dsup" class="drag-item p-4 text-sm">Металлический корпус встроенной душевой кабины.</div>
                    <div draggable="true" id="e4" data-ans="osup" class="drag-item p-4 text-sm">Главный защитный (PE) проводник, приходящий от питающей линии.</div>
                    <div draggable="true" id="e5" data-ans="osup" class="drag-item p-4 text-sm">Арматура железобетонного фундамента здания.</div>
                    <div draggable="true" id="e6" data-ans="dsup" class="drag-item p-4 text-sm">Металлическая труба отопления (полотенцесушитель) в ванной комнате.</div>
                    <div draggable="true" id="e7" data-ans="osup" class="drag-item p-4 text-sm">Стальной каркас подвесного потолка в коридоре.</div>
                </div>
            </div>

            <div class="lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <h3 class="font-semibold mb-4 text-sm uppercase tracking-wider text-center">Относится к ОСУП</h3>
                    <div id="osup" class="drop-zone p-4 flex flex-col gap-3"></div>
                </div>
                <div>
                    <h3 class="font-semibold mb-4 text-sm uppercase tracking-wider text-center">Относится к ДСУП в ванной комнате</h3>
                    <div id="dsup" class="drop-zone p-4 flex flex-col gap-3"></div>
                </div>
            </div>
        </div>

        <div class="mt-10 text-center">
            <button onclick="validate()" class="btn-check px-12 py-4 shadow-md">Проверить решение</button>
        </div>

        <div id="rationale" class="mt-12 hidden max-w-4xl mx-auto p-8 bg-white border border-gold-accent">
            <h4 class="header-font text-2xl mb-4 text-gray-800">Обоснование:</h4>
            <div class="text-sm leading-relaxed text-gray-700 space-y-4">
                <p><strong>Элементы 1, 4, 5</strong> (труба с улицы, главный PE, арматура фундамента) — это общестроительные и вводные элементы, которые объединяются на уровне всего здания в Основной системе уравнивания потенциалов (ОСУП).</p>
                <p><strong>Элемент 7</strong> (каркас подвесного потолка) — это сторонняя проводящая часть, которая в масштабах здания также должна быть подключена к ОСУП для выравнивания потенциалов.</p>
                <p><strong>Элементы 2, 3, 6</strong> (PE розетки, корпус душевой кабины, полотенцесушитель) — это локальные, доступные для прикосновения части в пределах одного помещения (ванной), которые подключаются в рамках Дополнительной системы уравнивания потенциалов (ДСУП).</p>
            </div>
        </div>
    </div>

    <script>
        const items = document.querySelectorAll('.drag-item');
        const zones = document.querySelectorAll('.drop-zone');

        items.forEach(item => {
            item.addEventListener('dragstart', e => e.dataTransfer.setData('text', e.target.id));
        });

        zones.forEach(zone => {
            zone.addEventListener('dragover', e => e.preventDefault());
            zone.addEventListener('drop', e => {
                e.preventDefault();
                const id = e.dataTransfer.getData('text');
                zone.appendChild(document.getElementById(id));
            });
        });

        function validate() {
            const placedItems = document.querySelectorAll('.drop-zone .drag-item');
            placedItems.forEach(item => {
                const parentId = item.parentElement.id;
                if (item.dataset.ans === parentId) {
                    item.classList.add('correct');
                    item.classList.remove('incorrect');
                } else {
                    item.classList.add('incorrect');
                    item.classList.remove('correct');
                }
            });
            document.getElementById('rationale').classList.remove('hidden');
            window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
        }
    </script>
</body>
</html>